<!--
  @description       : 
  @author            : AMH
  @group             : 
  @last modified on  : 08-25-2025
  @last modified by  : AMH 
  Modifications Log
  Ver   Date         Author   Modification
  1.0   08-25-2025   AMH   Initial Version
-->
<template>
    <div class="label-input">
        <label for="companySearch">Recherche entreprise *</label>
        <div class="input-wrapper">
            <!-- Search input -->
            <input
                type="text"
                id="companySearch"
                class="companyInput"
                placeholder="Rechercher une entreprise"
                onkeyup={handleKeyUp}
                disabled={disabled}
            />

            <!-- Icon button -->
            <template if:true={searchStr}>
                <button class="clearBtn" title="Effacer" onclick={handleRemoveSelectedOption}>
                    <svg xmlns="http://www.w3.org/2000/svg" class="clear-icon" fill="none" viewBox="0 0 24 24">
                        <path stroke="#001a70" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                              d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </template>
            <template if:false={searchStr}>
                <span class="search-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="search-svg" fill="none" viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8" stroke="#001a70" stroke-width="2"/>
                        <line x1="16.5" y1="16.5" x2="21" y2="21" stroke="#001a70" stroke-width="2"/>
                    </svg>
                </span>
            </template>
        </div>

        <!-- Dropdown results -->
        <template if:true={displayCompanyLst}>
            <ul class="dropdown-list">
                <template for:each={companyLst} for:item="c">
                    <li key={c.siret} class="dropdown-item" onmousedown={handleOptionSelect} data-id={c.siret}>
                        <span class="raison">{c.raisonSociale}</span>
                        <span class="siret">SIRET: {c.siret}</span>
                    </li>
                </template>
            </ul>
        </template>
    </div>
</template>